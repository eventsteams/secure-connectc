<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meeting Rescheduling System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(to right, #4b6cb7, #182848);
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .meeting-details {
            background-color: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .meeting-details h3 {
            color: #182848;
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .detail-row {
            display: flex;
            margin-bottom: 10px;
        }
        
        .detail-label {
            width: 150px;
            font-weight: 600;
            color: #555;
        }
        
        .detail-value {
            flex: 1;
            color: #333;
        }
        
        .content {
            padding: 30px;
        }
        
        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .page.active {
            display: block;
        }
        
        .buttons-container {
            display: flex;
            gap: 20px;
            margin-top: 30px;
            justify-content: center;
        }
        
        .btn {
            padding: 16px 32px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 220px;
        }
        
        .btn i {
            margin-right: 10px;
            font-size: 20px;
        }
        
        .btn-accept {
            background: linear-gradient(to right, #2ecc71, #27ae60);
            color: white;
        }
        
        .btn-accept:hover {
            background: linear-gradient(to right, #27ae60, #219653);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
        }
        
        .btn-decline {
            background: linear-gradient(to right, #e74c3c, #c0392b);
            color: white;
        }
        
        .btn-decline:hover {
            background: linear-gradient(to right, #c0392b, #a93226);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(to right, #3498db, #2980b9);
            color: white;
        }
        
        .btn-secondary:hover {
            background: linear-gradient(to right, #2980b9, #1c6ea4);
            transform: translateY(-3px);
        }
        
        .calendar-container {
            margin: 25px 0;
            padding: 20px;
            border-radius: 10px;
            background-color: #f8f9fa;
            border: 1px solid #eaeaea;
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .calendar-header button {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }
        
        .calendar-day {
            padding: 10px;
            text-align: center;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .calendar-day.header {
            font-weight: bold;
            background-color: transparent;
            cursor: default;
        }
        
        .calendar-day.available:hover {
            background-color: #e3f2fd;
        }
        
        .calendar-day.selected {
            background-color: #3498db;
            color: white;
        }
        
        .calendar-day.unavailable {
            background-color: #f5f5f5;
            color: #aaa;
            cursor: not-allowed;
        }
        
        .time-slots {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        
        .time-slot {
            padding: 10px 15px;
            border-radius: 5px;
            background-color: white;
            border: 2px solid #eaeaea;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .time-slot:hover {
            border-color: #3498db;
        }
        
        .time-slot.selected {
            background-color: #3498db;
            color: white;
            border-color: #3498db;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .confirmation-ticket {
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 25px;
            background-color: #f8fafc;
            margin: 25px 0;
        }
        
        .ticket-header {
            text-align: center;
            color: #182848;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px dashed #3498db;
        }
        
        .ticket-header h2 {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .ticket-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .ticket-item {
            margin-bottom: 10px;
        }
        
        .ticket-label {
            font-weight: 600;
            color: #555;
            font-size: 14px;
        }
        
        .ticket-value {
            color: #333;
            font-size: 16px;
            margin-top: 3px;
        }
        
        .screenshot-note {
            background-color: #fff8e1;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #ffc107;
        }
        
        .decline-options {
            text-align: center;
            margin-top: 30px;
        }
        
        .decline-message {
            font-size: 18px;
            margin-bottom: 25px;
            color: #555;
        }
        
        .status-message {
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            font-weight: 600;
        }
        
        .status-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status-info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .back-button {
            margin-top: 20px;
            text-align: center;
        }
        
        .back-btn {
            background: #7f8c8d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #7f8c8d;
            font-size: 14px;
            border-top: 1px solid #eaeaea;
            background-color: #f8f9fa;
        }
        
        .progress-bar {
            height: 6px;
            background-color: #eaeaea;
            margin-bottom: 20px;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(to right, #4b6cb7, #182848);
            width: 25%;
            transition: width 0.5s ease;
        }
        
        @media (max-width: 768px) {
            .buttons-container {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
            
            .ticket-details {
                grid-template-columns: 1fr;
            }
            
            .calendar-grid {
                gap: 5px;
            }
            
            .calendar-day {
                padding: 8px 5px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-calendar-alt"></i> Meeting Rescheduling System</h1>
            <p>Please review the meeting details and choose your response</p>
        </div>
        
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>
        
        <div class="meeting-details">
            <h3><i class="fas fa-info-circle"></i> Meeting Information</h3>
            <div class="detail-row">
                <div class="detail-label">Meeting Topic:</div>
                <div class="detail-value" id="meetingTopic">Quarterly Business Review & Strategy Planning</div>
            </div>
            <div class="detail-row">
                <div class="detail-label">Original Date:</div>
                <div class="detail-value" id="originalDate">Friday, June 15, 2023 at 10:00 AM</div>
            </div>
            <div class="detail-row">
                <div class="detail-label">Duration:</div>
                <div class="detail-value" id="meetingDuration">90 minutes</div>
            </div>
            <div class="detail-row">
                <div class="detail-label">Participants:</div>
                <div class="detail-value" id="participants">Sarah Johnson (You), Michael Chen, Alex Rodriguez, Marketing Team</div>
            </div>
        </div>
        
        <div class="content">
            <!-- Page 1: Initial Options -->
            <div class="page active" id="page1">
                <h2 style="text-align: center; color: #182848; margin-bottom: 20px;">How would you like to proceed?</h2>
                <p style="text-align: center; color: #555; margin-bottom: 30px; font-size: 17px;">
                    Please select one of the options below to accept, reschedule, or decline the meeting invitation.
                </p>
                
                <div class="buttons-container">
                    <button class="btn btn-accept" id="acceptBtn">
                        <i class="fas fa-calendar-check"></i> Accept & Schedule
                    </button>
                    <button class="btn btn-decline" id="declineBtn">
                        <i class="fas fa-calendar-times"></i> Decline (No Reschedule)
                    </button>
                </div>
            </div>
            
            <!-- Page 2: Rescheduling Form -->
            <div class="page" id="page2">
                <h2 style="color: #182848; margin-bottom: 15px;"><i class="fas fa-calendar-plus"></i> Reschedule Meeting</h2>
                <p style="color: #555; margin-bottom: 25px;">
                    Please select your preferred date and time for the meeting. Available time slots are highlighted.
                </p>
                
                <div class="calendar-container">
                    <div class="calendar-header">
                        <button id="prevMonth"><i class="fas fa-chevron-left"></i> Previous</button>
                        <h3 id="currentMonth">June 2023</h3>
                        <button id="nextMonth">Next <i class="fas fa-chevron-right"></i></button>
                    </div>
                    <div class="calendar-grid" id="calendar">
                        <!-- Calendar will be generated by JavaScript -->
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="timeSlot"><i class="fas fa-clock"></i> Select Preferred Time:</label>
                    <div class="time-slots" id="timeSlots">
                        <!-- Time slots will be generated by JavaScript -->
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="duration"><i class="fas fa-hourglass-half"></i> Meeting Duration:</label>
                    <select id="duration">
                        <option value="30">30 minutes</option>
                        <option value="60" selected>60 minutes</option>
                        <option value="90">90 minutes</option>
                        <option value="120">120 minutes</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="additionalInfo"><i class="fas fa-sticky-note"></i> Additional Information (Optional):</label>
                    <textarea id="additionalInfo" rows="4" placeholder="Any specific topics you'd like to cover, or special requirements..."></textarea>
                </div>
                
                <div class="buttons-container">
                    <button class="btn btn-secondary" id="backToMain">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="btn btn-accept" id="confirmReschedule">
                        <i class="fas fa-check-circle"></i> Confirm Rescheduling
                    </button>
                </div>
            </div>
            
            <!-- Page 3: Confirmation Ticket -->
            <div class="page" id="page3">
                <h2 style="color: #182848; margin-bottom: 15px; text-align: center;">
                    <i class="fas fa-check-circle" style="color: #27ae60;"></i> Meeting Successfully Rescheduled!
                </h2>
                
                <div class="screenshot-note">
                    <p><i class="fas fa-camera"></i> <strong>Important:</strong> Please save this confirmation for your records. You can take a screenshot of the information below.</p>
                </div>
                
                <div class="confirmation-ticket" id="confirmationTicket">
                    <div class="ticket-header">
                        <h2>MEETING CONFIRMATION</h2>
                        <p>Reference ID: #MTG-2023-06-15-789</p>
                    </div>
                    
                    <div class="ticket-details" id="ticketDetails">
                        <!-- Ticket details will be populated by JavaScript -->
                    </div>
                    
                    <div class="status-message status-success" style="margin-top: 20px;">
                        <i class="fas fa-envelope"></i> A confirmation email has been sent to your inbox. Management has been notified of the rescheduled meeting.
                    </div>
                </div>
                
                <div class="buttons-container">
                    <button class="btn btn-secondary" id="backToStart">
                        <i class="fas fa-home"></i> Return to Home
                    </button>
                    <button class="btn btn-accept" id="screenshotBtn">
                        <i class="fas fa-camera"></i> Capture Screenshot
                    </button>
                </div>
            </div>
            
            <!-- Page 4: Decline Options -->
            <div class="page" id="page4">
                <h2 style="color: #182848; margin-bottom: 15px; text-align: center;">
                    <i class="fas fa-calendar-times" style="color: #c0392b;"></i> Decline Meeting
                </h2>
                
                <div class="decline-message">
                    <p>We're sorry you can't make it. Please let us know how you'd like to proceed:</p>
                </div>
                
                <div class="buttons-container" style="flex-direction: column; align-items: center;">
                    <button class="btn btn-decline" id="confirmDeclineBtn" style="margin-bottom: 15px;">
                        <i class="fas fa-ban"></i> Confirm Decline & Terminate
                    </button>
                    <button class="btn btn-secondary" id="maybeLaterBtn">
                        <i class="fas fa-clock"></i> Maybe Later / Contact in Future
                    </button>
                </div>
                
                <div class="back-button">
                    <button class="back-btn" id="backFromDecline">
                        <i class="fas fa-arrow-left"></i> Back to Options
                    </button>
                </div>
            </div>
            
            <!-- Page 5: Final Decline Confirmation -->
            <div class="page" id="page5">
                <h2 style="color: #182848; margin-bottom: 15px; text-align: center;">
                    <i class="fas fa-check-circle" style="color: #c0392b;"></i> Meeting Declined
                </h2>
                
                <div class="status-message status-info">
                    <i class="fas fa-info-circle"></i> The meeting has been successfully declined and removed from your calendar. Management has been notified of your decision.
                </div>
                
                <div class="confirmation-ticket" style="border-color: #c0392b;">
                    <div class="ticket-header" style="border-bottom-color: #c0392b;">
                        <h2 style="color: #c0392b;">MEETING DECLINED</h2>
                        <p>Reference ID: #DEC-2023-06-15-789</p>
                    </div>
                    
                    <div class="ticket-details">
                        <div class="ticket-item">
                            <div class="ticket-label">Meeting Topic:</div>
                            <div class="ticket-value" id="declinedTopic">Quarterly Business Review & Strategy Planning</div>
                        </div>
                        <div class="ticket-item">
                            <div class="ticket-label">Original Date:</div>
                            <div class="ticket-value" id="declinedDate">Friday, June 15, 2023 at 10:00 AM</div>
                        </div>
                        <div class="ticket-item">
                            <div class="ticket-label">Declined By:</div>
                            <div class="ticket-value" id="declinedBy">Sarah Johnson</div>
                        </div>
                        <div class="ticket-item">
                            <div class="ticket-label">Declined On:</div>
                            <div class="ticket-value" id="declinedOn">June 10, 2023 at 2:30 PM</div>
                        </div>
                        <div class="ticket-item">
                            <div class="ticket-label">Status:</div>
                            <div class="ticket-value" id="declineStatus">Terminated - No Reschedule</div>
                        </div>
                    </div>
                </div>
                
                <div class="buttons-container">
                    <button class="btn btn-secondary" id="backToStartFromDecline">
                        <i class="fas fa-home"></i> Return to Home
                    </button>
                </div>
            </div>
            
            <!-- Page 6: Future Contact Option -->
            <div class="page" id="page6">
                <h2 style="color: #182848; margin-bottom: 15px; text-align: center;">
                    <i class="fas fa-clock" style="color: #3498db;"></i> Future Contact Request
                </h2>
                
                <div class="status-message status-info">
                    <i class="fas fa-info-circle"></i> You've requested to be contacted in the future about this meeting. Management has been notified and will follow up at a later date.
                </div>
                
                <div class="confirmation-ticket" style="border-color: #3498db;">
                    <div class="ticket-header" style="border-bottom-color: #3498db;">
                        <h2 style="color: #3498db;">MEETING POSTPONED</h2>
                        <p>Reference ID: #FUT-2023-06-15-789</p>
                    </div>
                    
                    <div class="ticket-details">
                        <div class="ticket-item">
                            <div class="ticket-label">Meeting Topic:</div>
                            <div class="ticket-value">Quarterly Business Review & Strategy Planning</div>
                        </div>
                        <div class="ticket-item">
                            <div class="ticket-label">Original Date:</div>
                            <div class="ticket-value">Friday, June 15, 2023 at 10:00 AM</div>
                        </div>
                        <div class="ticket-item">
                            <div class="ticket-label">Requested By:</div>
                            <div class="ticket-value">Sarah Johnson</div>
                        </div>
                        <div class="ticket-item">
                            <div class="ticket-label">Status:</div>
                            <div class="ticket-value">Flagged for Future Contact</div>
                        </div>
                        <div class="ticket-item">
                            <div class="ticket-label">Management Note:</div>
                            <div class="ticket-value">Will follow up in 2-3 weeks to reschedule</div>
                        </div>
                    </div>
                </div>
                
                <div class="buttons-container">
                    <button class="btn btn-secondary" id="backToStartFromFuture">
                        <i class="fas fa-home"></i> Return to Home
                    </button>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>Â© 2023 Meeting Rescheduling System. All rights reserved.</p>
            <p>This is a self-contained system for managing meeting invitations and rescheduling.</p>
        </div>
    </div>

    <script>
        // DOM Elements
        const pages = document.querySelectorAll('.page');
        const progressBar = document.getElementById('progress');
        const calendar = document.getElementById('calendar');
        const timeSlots = document.getElementById('timeSlots');
        const currentMonth = document.getElementById('currentMonth');
        const prevMonthBtn = document.getElementById('prevMonth');
        const nextMonthBtn = document.getElementById('nextMonth');
        const ticketDetails = document.getElementById('ticketDetails');
        
        // State variables
        let currentPage = 1;
        let selectedDate = null;
        let selectedTime = null;
        let currentMonthIndex = 5; // June (0-indexed)
        let currentYear = 2023;
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Set up event listeners
            document.getElementById('acceptBtn').addEventListener('click', () => showPage(2));
            document.getElementById('declineBtn').addEventListener('click', () => showPage(4));
            document.getElementById('backToMain').addEventListener('click', () => showPage(1));
            document.getElementById('confirmReschedule').addEventListener('click', confirmRescheduling);
            document.getElementById('backToStart').addEventListener('click', () => showPage(1));
            document.getElementById('screenshotBtn').addEventListener('click', simulateScreenshot);
            document.getElementById('confirmDeclineBtn').addEventListener('click', () => showPage(5));
            document.getElementById('maybeLaterBtn').addEventListener('click', () => showPage(6));
            document.getElementById('backFromDecline').addEventListener('click', () => showPage(1));
            document.getElementById('backToStartFromDecline').addEventListener('click', () => showPage(1));
            document.getElementById('backToStartFromFuture').addEventListener('click', () => showPage(1));
            
            // Calendar navigation
            prevMonthBtn.addEventListener('click', () => changeMonth(-1));
            nextMonthBtn.addEventListener('click', () => changeMonth(1));
            
            // Initialize calendar and time slots
            generateCalendar(currentMonthIndex, currentYear);
            generateTimeSlots();
            
            // Set today's date for decline confirmation
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' };
            document.getElementById('declinedOn').textContent = now.toLocaleDateString('en-US', options);
        });
        
        // Function to show specific page
        function showPage(pageNumber) {
            // Update current page
            currentPage = pageNumber;
            
            // Update progress bar
            const progressPercent = (pageNumber / 6) * 100;
            progressBar.style.width = `${progressPercent}%`;
            
            // Hide all pages
            pages.forEach(page => {
                page.classList.remove('active');
            });
            
            // Show the selected page
            document.getElementById(`page${pageNumber}`).classList.add('active');
            
            // If showing confirmation page, generate the ticket
            if (pageNumber === 3) {
                generateConfirmationTicket();
            }
        }
        
        // Generate calendar for a specific month and year
        function generateCalendar(month, year) {
            calendar.innerHTML = '';
            
            // Set month name
            const monthNames = ["January", "February", "March", "April", "May", "June", 
                               "July", "August", "September", "October", "November", "December"];
            currentMonth.textContent = `${monthNames[month]} ${year}`;
            
            // Create day headers
            const dayHeaders = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
            dayHeaders.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day header';
                dayElement.textContent = day;
                calendar.appendChild(dayElement);
            });
            
            // Get first day of month and number of days
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            // Add empty cells for days before the first day
            for (let i = 0; i < firstDay; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day';
                calendar.appendChild(emptyDay);
            }
            
            // Add days of the month
            const today = new Date();
            const currentDate = today.getDate();
            const currentMonthIdx = today.getMonth();
            const currentYearNow = today.getFullYear();
            
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day available';
                dayElement.textContent = day;
                
                // Mark today if applicable
                if (day === currentDate && month === currentMonthIdx && year === currentYearNow) {
                    dayElement.style.backgroundColor = '#e3f2fd';
                    dayElement.style.fontWeight = 'bold';
                }
                
                // Mark unavailable days (weekends and some random days)
                const date = new Date(year, month, day);
                const dayOfWeek = date.getDay();
                const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;
                const isUnavailable = isWeekend || day % 7 === 0 || day % 11 === 0;
                
                if (isUnavailable) {
                    dayElement.className = 'calendar-day unavailable';
                    dayElement.style.cursor = 'not-allowed';
                } else {
                    dayElement.addEventListener('click', () => selectDate(dayElement, date));
                }
                
                // Mark selected date
                if (selectedDate && 
                    selectedDate.getDate() === day && 
                    selectedDate.getMonth() === month && 
                    selectedDate.getFullYear() === year) {
                    dayElement.classList.add('selected');
                }
                
                calendar.appendChild(dayElement);
            }
        }
        
        // Change month for calendar
        function changeMonth(direction) {
            currentMonthIndex += direction;
            
            // Handle year change
            if (currentMonthIndex < 0) {
                currentMonthIndex = 11;
                currentYear--;
            } else if (currentMonthIndex > 11) {
                currentMonthIndex = 0;
                currentYear++;
            }
            
            generateCalendar(currentMonthIndex, currentYear);
        }
        
        // Select a date on the calendar
        function selectDate(dayElement, date) {
            // Remove selection from all days
            document.querySelectorAll('.calendar-day').forEach(day => {
                day.classList.remove('selected');
            });
            
            // Add selection to clicked day
            dayElement.classList.add('selected');
            selectedDate = date;
            
            // Enable time slots
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.style.opacity = '1';
                slot.style.cursor = 'pointer';
            });
        }
        
        // Generate time slots
        function generateTimeSlots() {
            const times = [
                "9:00 AM", "9:30 AM", "10:00 AM", "10:30 AM", 
                "11:00 AM", "11:30 AM", "1:00 PM", "1:30 PM", 
                "2:00 PM", "2:30 PM", "3:00 PM", "3:30 PM", "4:00 PM"
            ];
            
            timeSlots.innerHTML = '';
            
            times.forEach(time => {
                const timeSlot = document.createElement('div');
                timeSlot.className = 'time-slot';
                timeSlot.textContent = time;
                
                // Mark some time slots as unavailable
                if (time === "9:00 AM" || time === "2:30 PM") {
                    timeSlot.style.opacity = '0.5';
                    timeSlot.style.cursor = 'not-allowed';
                    timeSlot.style.textDecoration = 'line-through';
                } else {
                    timeSlot.addEventListener('click', () => selectTime(timeSlot, time));
                }
                
                timeSlots.appendChild(timeSlot);
            });
        }
        
        // Select a time slot
        function selectTime(timeSlot, time) {
            // Remove selection from all time slots
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.classList.remove('selected');
            });
            
            // Add selection to clicked time slot
            timeSlot.classList.add('selected');
            selectedTime = time;
        }
        
        // Confirm rescheduling and show confirmation page
        function confirmRescheduling() {
            if (!selectedDate || !selectedTime) {
                alert("Please select both a date and time for the meeting.");
                return;
            }
            
            // Simulate sending email to management
            simulateManagementEmail();
            
            // Show confirmation page
            showPage(3);
        }
        
        // Generate confirmation ticket with all details
        function generateConfirmationTicket() {
            const dateStr = selectedDate ? 
                selectedDate.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }) : 
                "Friday, June 30, 2023";
            
            const duration = document.getElementById('duration').value;
            const durationText = document.getElementById('duration').options[document.getElementById('duration').selectedIndex].text;
            const additionalInfo = document.getElementById('additionalInfo').value || "No additional information provided.";
            
            ticketDetails.innerHTML = `
                <div class="ticket-item">
                    <div class="ticket-label">Meeting Topic:</div>
                    <div class="ticket-value">Quarterly Business Review & Strategy Planning</div>
                </div>
                <div class="ticket-item">
                    <div class="ticket-label">Rescheduled Date:</div>
                    <div class="ticket-value">${dateStr}</div>
                </div>
                <div class="ticket-item">
                    <div class="ticket-label">Rescheduled Time:</div>
                    <div class="ticket-value">${selectedTime || "2:00 PM"}</div>
                </div>
                <div class="ticket-item">
                    <div class="ticket-label">Duration:</div>
                    <div class="ticket-value">${durationText}</div>
                </div>
                <div class="ticket-item">
                    <div class="ticket-label">Participants:</div>
                    <div class="ticket-value">Sarah Johnson, Michael Chen, Alex Rodriguez, Marketing Team</div>
                </div>
                <div class="ticket-item">
                    <div class="ticket-label">Requested By:</div>
                    <div class="ticket-value">Sarah Johnson (You)</div>
                </div>
                <div class="ticket-item">
                    <div class="ticket-label">Additional Information:</div>
                    <div class="ticket-value">${additionalInfo}</div>
                </div>
                <div class="ticket-item">
                    <div class="ticket-label">Confirmation ID:</div>
                    <div class="ticket-value">#MTG-2023-06-15-789</div>
                </div>
                <div class="ticket-item">
                    <div class="ticket-label">Status:</div>
                    <div class="ticket-value"><span style="color: #27ae60; font-weight: bold;">Confirmed - Management Notified</span></div>
                </div>
            `;
        }
        
        // Simulate taking a screenshot
        function simulateScreenshot() {
            const ticket = document.getElementById('confirmationTicket');
            ticket.style.boxShadow = '0 0 0 5px #3498db';
            
            // Show a message
            const message = document.createElement('div');
            message.className = 'status-message status-success';
            message.innerHTML = '<i class="fas fa-camera"></i> Screenshot captured! The confirmation details have been saved.';
            ticket.parentNode.insertBefore(message, ticket.nextSibling);
            
            // Reset after animation
            setTimeout(() => {
                ticket.style.boxShadow = '';
                if (message.parentNode) {
                    message.parentNode.removeChild(message);
                }
            }, 3000);
        }
        
        // Simulate sending email to management
        function simulateManagementEmail() {
            // This would be an API call in a real application
            console.log("Sending email to management...");
            console.log("Subject: Meeting Rescheduled: Quarterly Business Review with Sarah Johnson");
            console.log("Body: The meeting has been rescheduled. New details have been recorded in the system.");
            
            // Show a brief notification
            const notification = document.createElement('div');
            notification.className = 'status-message status-info';
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.zIndex = '1000';
            notification.style.maxWidth = '300px';
            notification.innerHTML = '<i class="fas fa-paper-plane"></i> Notification sent to management team';
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }
    </script>
</body>
</html>
